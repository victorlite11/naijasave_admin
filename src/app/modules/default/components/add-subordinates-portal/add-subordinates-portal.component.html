<app-header [title]="title"></app-header>

<main class="body shadow pull-up-3">
    <mat-spinner *ngIf="fetchingAssignableSubordinates" [diameter]="20" mode="indeterminate"></mat-spinner>

    <section class="toolbar d-flex align-items-center justify-content-end">
      <p class="key-value-text"><span>Available subordinates:</span> <span>{{assignableSubordinates.length}}</span></p>
  </section>

  <section class="toolbar d-flex align-items-center">   
    <a class="clickable coral p-2 rounded shadow-sm" *ngIf="assigningList.length > 0" (click)="assignSelectedSubordinates()">Assign Selected Subordinates</a>
  </section>

  <section class="mt-2">
    <div class="subordinate-card" *ngFor="let subordinate of assignableSubordinates" #card (click)="addToAssigningList(subordinate._id!!, mark)">
        <!-- check -->
        <i class="pi pi-check check-icon text-right align-self-end justify-self-end d-none" #mark style="font-size: .9rem"></i>
        <app-subordinate-card [name]="subordinate.name" 
                    [phoneNumber]="subordinate.phoneNumber"
                    [status]="subordinate.status"></app-subordinate-card>
    </div>
  </section>
</main>
<app-footer></app-footer>